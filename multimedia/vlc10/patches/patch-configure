$NetBSD: patch-configure,v 1.2 2013/01/22 11:46:24 wiz Exp $

First chunk: automake-1.13 compat.
Second chunk: http://trac.videolan.org/vlc/ticket/3762
Third chunk: http://trac.videolan.org/vlc/ticket/3761

--- configure.ac.orig	2010-04-18 13:03:54.000000000 +0000
+++ configure.ac
@@ -23,7 +23,7 @@ AC_CANONICAL_BUILD
 AC_CANONICAL_HOST
 
 AM_INIT_AUTOMAKE(tar-ustar)
-AM_CONFIG_HEADER(config.h)
+AC_CONFIG_HEADER(config.h)
 
 dnl Too many people are not aware of maintainer mode:
 dnl If you want to use it, you definitely know what you are doing, so
@@ -575,7 +575,7 @@ AC_CHECK_FUNCS(fdatasync,,
 ])
 
 dnl Check for non-standard system calls
-AC_CHECK_FUNCS([vmsplice eventfd fstatfs])
+AC_CHECK_FUNCS([vmsplice eventfd fstatvfs fstatfs])
 
 AH_BOTTOM([#include <vlc_fixups.h>])
 
@@ -2525,7 +2525,7 @@ then
   fi
 
   CPPFLAGS="${CPPFLAGS_save} ${CPPFLAGS_v4l2}"
-  AC_CHECK_HEADERS(linux/videodev2.h, [
+  AC_CHECK_HEADERS(linux/videodev2.h sys/videoio.h, [
     VLC_ADD_PLUGIN([v4l2])
   ],[])
   CPPFLAGS="${CPPFLAGS_save}"
